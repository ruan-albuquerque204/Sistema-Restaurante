{% extends "partials.html" %}

{% block head %}
<style>
  .btnClose {
        background-color: red;
        border-radius: 2px;
        padding: 0px 5px;
        border: none;
    }
</style>
{% endblock head %}


{% block body %}

<div class="conteiner px-4">
  <h1>Comanda</h1>

  <hr>

  <h2 class="text-center">Cliente</h2>
  <div class="form mb-5">    
    <div class="form-floating mb-3">
      <input class="form-control" type="text" id="nome" placeholder="Nome do Cliente" required>
      <label class="form-label" for="nome">Nome</label>
    </div>
    
    <hr>

    <h2 class="text-center">Pedido</h2>
    <div class="form-floating mb-3">
      <select class="form-select" id="produtos">
        {% for produto in produtos %}
        <option value="{{produto.id}}">{{produto.nome.title()}} - R${{ produto.valor }}</option>
        {% endfor %}
      </select>
      <label for="produtos">Produto</label>
    </div>
    
    <div class="form-floating mb-3">
      <input class="form-control" type="number" id="quantidade" min="1" step="0.00001" placeholder="Quantidade" required>
      <label class="form-label" for="quantidade">Quantidade</label>
    </div>
    
    
    <button class="btn btn-primary" onclick="adicionarItem()">Adicionar Item</button>
    <button class="btn btn-warning" onclick="limparPedido()">Limpar Pedido</button>
  </div>
  
  <hr>
  
  <h2 class="text-center">Itens</h2>
  <div class="mb-5">
    
    <table class="table table-striped table-dark" id="tabela-pedido">
      <caption>Total do Pedido: R$ 0.00</caption>
      <thead>
        <tr>
          <td>Item</td>
          <td>Quantidade</td>
          <td>Total</td>
          <td>.</td>
        </tr>
      </thead>
      <tbody>
      </tbody>
    </table>
  </div>
  
  <hr>
  
  <h2 class="text-center">Finalização</h2>
  <div class="form-floating mb-3">
    <select class="form-select" id="formaPagamento">
      <option value="dinheiro">Dinheiro</option>
      <option value="pix">Pix</option>
      <option value="credito">Crédito</option>
      <option value="debito">Débito</option>
    </select>
    <label for="formaPagamento">Forma de Pagamento</label>
  </div>
  
  <div class="form-floating mb-3">
    <input class="form-control" type="number" id="valorPago" min="0.01" step="0.01" placeholder="Valor Pago" required>
    <label class="form-label" for="valorPago">Valor Pago</label>
  </div>
  
  <div class="form-floating mb-3">
    <input class="form-control" type="number" id="valorTroco" min="0.01" step="0.01" placeholder="Troco" disabled>
    <label class="form-label" for="valorTroco">Troco</label>
  </div>
  
  <button class="btn btn-success" onclick="enviarProduto()">Enviar Pedido</button>
</div>



<script src="{{url_for('static', filename='js/comanda.js')}}"></script>

{% endblock body %}
