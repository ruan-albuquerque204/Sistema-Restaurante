{% extends "partials.html" %}
{% block body %}

<div class="px-4">
    <h1>Cadastror Produto</h1>
    
    <form class="form mb-3" action="{{ url_for('produto.cria_produto') }}" method="post">
        <div class="form-floating mb-3">
            <input class="form-control" type="text" name="nome" id="nome" placeholder="Nome do produto" required>
            <label for="nome">Nome</label>
        </div>
        <div class="form-floating mb-3">
            <input class="form-control" type="number" name="valor" id="valor" step="0.01" min="1" placeholder="Valor do produto R$" required>
            <label for="valor">Valor</label>
        </div>

        <button class="btn btn-success" type="submit">Cadastrar</button>
    </form>
    
    {% if resultado %}
    <div>
        <p>{{ resultado['status'] }}</p>
        <p>{{ resultado['message'] }}</p>
    </div>
    {% endif %}
    
    <hr>

    <h1>Produtos Cadastrados</h1>

    <table class="table table-striped table-dark">
        <thead>
            <tr>
                <td>Id</td>
                <td>Nome</td>
                <td>Valor</td>
                <td>Ações</td>
            </tr>
        </thead>
        <tbody>
            {% for produto in produtos %}
            <tr>
                <td>{{ produto.id }}</td>
                <td>{{ produto.nome }}</td>
                <td>R$ {{ produto.valor }}</td>
                <td>
                    <a href="{{ url_for('produto.excluir_item', id=produto.id) }}">
                        <button class="btn btn-danger">Excluir</button>
                    </a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

{% endblock body %}